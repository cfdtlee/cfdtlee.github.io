<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>验证码识别（02）——图像二值化 | cfdtlee</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="description" content="I adapt python and its image library: PIL to hack captcha. Here is the reference of PIL: The PIL Handbook. In this pessage, I will talk about binaryza">
  
  
    <link rel="alternate" href="/atom.xml" title="cfdtlee" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox-1.3.4.css">

  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">cfdtlee</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">We do what we have to do, so we can do what we want to do</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
      </nav>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-CAPTCHA-02-PIL" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2015/04/06/CAPTCHA-02-PIL/" class="article-date">
  <time class="dt-published" datetime="2015-04-05T22:56:28.000Z" itemprop="datePublished">2015-04-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Machine-Learning/">Machine Learning</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      验证码识别（02）——图像二值化
    </h1>
  

      </header>
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>I adapt python and its image library: PIL to hack captcha. Here is the reference of PIL: <a target="_blank" rel="noopener" href="http://effbot.org/imagingbook/">The PIL Handbook</a>. In this pessage, I will talk about binaryzation of Image.</p>
<h2 id="about-RGB"><a href="#about-RGB" class="headerlink" title="about RGB"></a>about RGB</h2><p>When the intensities are different, the result is a colorized hue, more or less saturated depending on the difference of the strongest and weakest of the intensities of the primary colors employed.</p>
<p>The RGB color model itself does not define what is meant by red, green, and blue colorimetrically, and so the results of mixing them are not specified as absolute, but relative to the primary colors. When the exact chromaticities of the red, green, and blue primaries are defined, the color model then becomes an absolute color space, such as sRGB or Adobe RGB.</p>
<h2 id="binaryzation"><a href="#binaryzation" class="headerlink" title="binaryzation"></a>binaryzation</h2><ol>
<li><p>convert captcha to grey-scale image</p>
<pre><code> img.convert(&#39;L&#39;)
</code></pre>
</li>
<li><p>convert grey-scale image to binary image, <code>table</code> is a list with 256 binary elements which indicates the converting map. Take a pixel’s grey value as index of table, its value in list is the value in binary image. </p>
<pre><code> table = [0 for x in range(230)]+[1 for x in range(26)]
 img.point(table, &#39;1&#39;)
</code></pre>
<p> <code>img.point()</code> returns a copy of the image where each pixel has been mapped through the given lookup table. The table should contains 256 values per band in the image. If a function is used instead, it should take a single argument. The function is called once for each possible pixel value, and the resulting table is applied to all bands of the image.</p>
</li>
</ol>
<p><img src="/2015/04/06/CAPTCHA-02-PIL/CAPTCHAcaptcha_origin.bmp" alt="origin captcha"><br><img src="/2015/04/06/CAPTCHA-02-PIL/CAPTCHAcaptcha_grey.bmp" alt="grey scale captcha"><br><img src="/2015/04/06/CAPTCHA-02-PIL/CAPTCHAcaptcha_binary.bmp" alt="binary captcha"></p>
<!--
box = (100, 100, 400, 400)左上角为0,0, The region is defined by a 4-tuple, where coordinates are (left, upper, right, lower).Rectangles are represented as 4-tuples, with the upper left corner given first. For example, a rectangle covering all of an 800x600 pixel image is written as (0, 0, 800, 600).
region = im.crop(box)
region = region.transpose(Image.ROTATE_180)counter-clockwise
out = im.transpose(Image.FLIP_LEFT_RIGHT)
out = im.transpose(Image.FLIP_TOP_BOTTOM)
out = im.transpose(Image.ROTATE_90)
out = im.transpose(Image.ROTATE_180)
out = im.transpose(Image.ROTATE_270)
im.paste(region, box)
out = im.resize((128, 128))
out = im.rotate(45) # degrees counter-clockwise
-->


      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Captcha/" rel="tag">Captcha</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Image-Processing/" rel="tag">Image Processing</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Machine-Learning/" rel="tag">Machine Learning</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/04/16/CAPTCHA-03-preprocessing/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          验证码识别（03）——预处理
        
      </div>
    </a>
  
  
    <a href="/2015/03/26/ME-travel-xi'an/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          摩英·西安
        
      </div>
    </a>
  
</nav>

  
</article>


</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Shuang Li<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a><br>
      <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn">陕ICP备2021014297号</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    


<script src="/js/jquery-1.4.3.min.js"></script>


  
<script src="/fancybox/jquery.fancybox-1.3.4.js"></script>




<script src="/js/script.js"></script>






<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']]
    },
    svg: {
      fontCache: 'global'
    }
  };
</script>
</script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

  </div>
</body>
</html>